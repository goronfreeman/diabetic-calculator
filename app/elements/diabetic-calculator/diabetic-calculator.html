<link rel="import" href="../elements.html">

<polymer-element name="diabetic-calculator" attributes="">
  <template>
    <link rel="stylesheet" href="diabetic-calculator.css">

    <core-animated-pages selected="{{step}}" transitions="slide-from-bottom">
      <section class="card center-content" id="percentage">
        <core-label>
          How much diabeetus do you want?
          <div>
            <paper-slider id="slider" min="0" max="20" value="7" pin="true"></paper-slider>
          </div>
        </core-label>
        <paper-button id="selectPercentage" raised="true" role="button">Confirm</paper-button>
      </section>
      <section class="card" id="stats">
        <paper-button id="reset">Reset</paper-button>
      </section>
    </core-animated-pages>
  </template>
  <script>
    (function () {
      Polymer('diabetic-calculator', {
        ready: function () {
          var calc = this;
          calc.percentage = 7;

          calc.selectPercentage();
          calc.$.selectPercentage.addEventListener('click', function() {
            calc.percentage = calc.$.slider.value;
            calc.showStats();
          });
          calc.$.reset.addEventListener('click', function() {
            calc.selectPercentage();
          });
        },
        selectPercentage: function() {
          this.step = 0;
        },
        showStats: function() {
          this.step = 1;
        }
      });
    })();
  </script>
</polymer-element>
